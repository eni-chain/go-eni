#!/bin/bash

make stop4-node
sleep 2
make reset-multi-node
make start4-node
sleep 10
ps aux | grep enid
echo "发送质押交易"
cast send --rpc-url http://localhost:8545 0x0000000000000000000000000000000000001001 100e44a8000000000000000000000000ea6a4f953bae56c6d56097576a8d1a617579db0f000000000000000000000000ea6a4f953bae56c6d56097576a8d1a617579db0f00000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000056e6f64653100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000196e6f646531206170706c7920666f722076616c696461746f720000000000000000000000000000000000000000000000000000000000000000000000000000200cd2be5109b22714caa63444899f7c598784b64b5f010a18668a302f4fd6fb46 \
--value 11000ether \
--from 0x3140aedbf686A3150060Cb946893b0598b266f5C \
--private-key 56087e01ed75db8413066cd3a92e6c01e7558005bd688f0719a97a50f213b702 --gas-limit 700000 --gas-price 10000000000000

cast send --rpc-url http://localhost:8545 0x0000000000000000000000000000000000001001 100e44a8000000000000000000000000e8674c547b8b5e12d295933082904ddac81be0e7000000000000000000000000e8674c547b8b5e12d295933082904ddac81be0e700000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000056e6f64653200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000196e6f646532206170706c7920666f722076616c696461746f720000000000000000000000000000000000000000000000000000000000000000000000000000207065ede0c29e635969f54d0e574df6ebea857974dada860261e7635680cac2ba \
--value 11000ether \
--from 0xB680152a597c937164941e77cbF4a6b2F866675c \
--private-key 9210e34982edcf6ff4c72f207b74fdd2d4d55ae88ad21202fe60d94768ec2dc2 --gas-limit 70000000 --gas-price 10000000000000


cast send --rpc-url http://localhost:8545 0x0000000000000000000000000000000000001001 100e44a8000000000000000000000000d317719d4c6c40140f203514ad5125cc6b387286000000000000000000000000d317719d4c6c40140f203514ad5125cc6b38728600000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000056e6f64653300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000196e6f646533206170706c7920666f722076616c696461746f7200000000000000000000000000000000000000000000000000000000000000000000000000002014e6ca392b8a3eda14f0a9eae8e009a3847b2cba0b469e6455bcf28f3a0cb9a7 \
--value 11000ether \
--from 0x5746036C781851B9eF234219e770E1591104561f \
--private-key 542179968477407cc4f1677572cf17b20811a83935c6386f03fb1f7474828611 --gas-limit 70000000 --gas-price 10000000000000

cast send --rpc-url http://localhost:8545 0x0000000000000000000000000000000000001001 100e44a8000000000000000000000000584c81d5d6988254d912622809e0c26b37742011000000000000000000000000584c81d5d6988254d912622809e0c26b3774201100000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000056e6f64653400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000196e6f646534206170706c7920666f722076616c696461746f72000000000000000000000000000000000000000000000000000000000000000000000000000020a110654d56b490e63dfba5a4dedc7ff089ac24f8f01a47df533a644441260268 \
--value 11000ether \
--from 0x7B6ba0Fe2610BF3c69Fc571C37aeC7bB87A281D2 \
--private-key 24ce09911fb540e2e1cb9e3003ce50525052a9173d2cbfc41848f4e51080b69f --gas-limit 70000000 --gas-price 10000000000000

echo "发送审批1"
cast send --rpc-url http://localhost:8545 0x0000000000000000000000000000000000001001 0f2d80b60000000000000000000000003140aedbf686a3150060cb946893b0598b266f5c \
--from 0x3140aedbf686A3150060Cb946893b0598b266f5C \
--private-key 56087e01ed75db8413066cd3a92e6c01e7558005bd688f0719a97a50f213b702 --gas-limit 70000000 --gas-price 10000000000000

echo "查询DPOS结果"
cast call 0x0000000000000000000000000000000000001002 "ad370b46000000000000000000000000ea6a4f953bae56c6d56097576a8d1a617579db0f" --rpc-url=http://localhost:8545


cast call 0x0000000000000000000000000000000000001002 cf331250 --rpc-url=http://localhost:8545


